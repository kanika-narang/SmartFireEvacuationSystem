<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
     <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href={% static "Font-Awesome-4.7/css/font-awesome.min.css" %}>
    <link rel="stylesheet" type="text/css" href={% static "css/bootstrap.min.css" %}>
    <link rel="stylesheet" type="text/css" href={% static "css/templatemo-style.css" %}>
    <link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js">
    </script>
    <script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js"></script>
  <script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>
    <title> Data Table</title>
</head>
    <table id="example{{callto}}"  class="table table-striped table-bordered table-hover" border="1" cellspacing="10">
    <thead >
      <tr >
        {% for h in header %}
        <th >{{h}}</th>
 {% endfor %}
      </tr>
    </thead>
    <tbody>
         {% for ele in datatoshow %} 

      <tr >
        {% for i in ele%}
       <td > {{i}}</td>
     {% endfor %}
  </tr>
      {% endfor %}
    </tbody>
  </table>

<script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js"></script>
  <script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>
  <script>

  $(function(){
    $(document).ready(function(){
      debugger;

//debugger;
  function getdataforshowing(){
   // debugger;
                  
                      // debugger;
                            $.ajax({url: "/DetectingFire/get_data_toshow/", data:{"callto":"{{callto}}"},success: function(result){
                                data = JSON.parse(result);
                                            if(data.datatoshow != "")
                                            {
                                              // success
                                         //     debugger;
                                              $("#{{callto}}Sensor").html(data.datatoshow);
                                }
                                else{
                                  $("#{{callto}}Sensor").html("Nooooooooo");
                                }
                            }
                          });


                        
                        
                    
                  }



  setInterval(getdataforshowing, 5000);

  });
  });
                    </script>    

<body>    
    